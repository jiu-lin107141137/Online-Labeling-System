<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>%VITE_APP_TITLE%</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script type="text/javascript">
      (() => {
        if(!window.sessionStorage.length){
          window.localStorage.setItem('getSessionStorageData', Date.now());
        }
        window.addEventListener('storage', (event) => {
          if (event.key === 'getSessionStorageData'){
            window.localStorage.setItem('sessionStorageData', JSON.stringify(window.sessionStorage));
            window.localStorage.removeItem('sessionStorageData');
          }
          if (event.key === 'sessionStorageData' && !window.sessionStorage.length){
            const data = JSON.parse(event.newValue);
            for (let key in data) {
              window.sessionStorage.setItem(key, data[key]);
              console.log("set item here ", key, data[key]);
            }
          }

          if(event.key === 'logout') {
            window.sessionStorage.clear();
            window.location.reload();
          }
        })
      })();
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
